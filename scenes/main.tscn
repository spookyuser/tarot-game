[gd_scene format=3 uid="uid://bb7el65bga3go"]

[ext_resource type="Script" uid="uid://clqgq1n7v0ar" path="res://addons/card-framework/card_manager.gd" id="card_manager_script"]
[ext_resource type="Script" uid="uid://dga4rlu6khb4o" path="res://scenes/claude_api.gd" id="claude_api_script"]
[ext_resource type="PackedScene" path="res://scenes/card_factory.tscn" id="factory_scene"]
[ext_resource type="Script" uid="uid://dj46jo3lfbclo" path="res://addons/card-framework/hand.gd" id="hand_script"]
[ext_resource type="Script" uid="uid://bgyofpuimgnun" path="res://scenes/main.gd" id="main_script"]
[ext_resource type="Script" uid="uid://6ams8uvg43gu" path="res://addons/card-framework/pile.gd" id="pile_script"]

[sub_resource type="Curve" id="hand_rotation"]
_limits = [-12.0, 12.0, 0.0, 1.0]
_data = [Vector2(0, -12), 0.0, 24.0, 0, 1, Vector2(1, 12), 24.0, 0.0, 1, 0]
point_count = 2

[sub_resource type="Curve" id="hand_vertical"]
_limits = [0.0, 50.0, 0.0, 1.0]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.5, 35), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[node name="Main" type="Control" unique_id=1962166245]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("main_script")

[node name="Background" type="ColorRect" parent="." unique_id=1444181350]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.08, 0.04, 0.14, 1)

[node name="CardManager" type="Control" parent="." unique_id=711661730]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("card_manager_script")
card_size = Vector2(110, 159)
card_factory_scene = ExtResource("factory_scene")

[node name="ClientPanel" type="VBoxContainer" parent="." unique_id=1000418651]
layout_mode = 1
offset_left = 192.0
offset_top = 8.0
offset_right = 1088.0
offset_bottom = 140.0
theme_override_constants/separation = 4

[node name="ClientName" type="Label" parent="ClientPanel" unique_id=463753653]
layout_mode = 2
theme_override_colors/font_color = Color(0.85, 0.7, 0.4, 1)
theme_override_font_sizes/font_size = 22
horizontal_alignment = 1

[node name="ClientStory" type="RichTextLabel" parent="ClientPanel" unique_id=1455853751]
layout_mode = 2
size_flags_vertical = 3
theme_override_colors/default_color = Color(0.7, 0.65, 0.8, 1)
theme_override_font_sizes/normal_font_size = 14
bbcode_enabled = true
scroll_active = true
scroll_following = true

[node name="SlotLabel0" type="Label" parent="." unique_id=1133771811]
layout_mode = 1
offset_left = 220.0
offset_top = 150.0
offset_right = 420.0
offset_bottom = 178.0
theme_override_colors/font_color = Color(0.6, 0.5, 0.7, 1)
theme_override_font_sizes/font_size = 15
horizontal_alignment = 1
autowrap_mode = 2

[node name="SlotBg0" type="ColorRect" parent="." unique_id=194759221]
layout_mode = 1
offset_left = 265.0
offset_top = 185.0
offset_right = 375.0
offset_bottom = 344.0
color = Color(0.15, 0.1, 0.25, 0.4)

[node name="SlotPile0" type="Control" parent="." unique_id=1344611988]
layout_mode = 1
anchors_preset = 0
offset_left = 265.0
offset_top = 185.0
offset_right = 375.0
offset_bottom = 344.0
script = ExtResource("pile_script")
allow_card_movement = false
sensor_size = Vector2(130, 180)
sensor_position = Vector2(-10, -10)

[node name="ReadingLabel0" type="RichTextLabel" parent="." unique_id=2005994275]
layout_mode = 1
offset_left = 195.0
offset_top = 355.0
offset_right = 445.0
offset_bottom = 465.0
theme_override_colors/default_color = Color(0.8, 0.75, 0.9, 1)
theme_override_font_sizes/normal_font_size = 13
bbcode_enabled = true
scroll_active = false

[node name="SlotLabel1" type="Label" parent="." unique_id=228236612]
layout_mode = 1
offset_left = 540.0
offset_top = 150.0
offset_right = 740.0
offset_bottom = 178.0
theme_override_colors/font_color = Color(0.6, 0.5, 0.7, 1)
theme_override_font_sizes/font_size = 15
horizontal_alignment = 1
autowrap_mode = 2

[node name="SlotBg1" type="ColorRect" parent="." unique_id=942693349]
layout_mode = 1
offset_left = 585.0
offset_top = 185.0
offset_right = 695.0
offset_bottom = 344.0
color = Color(0.15, 0.1, 0.25, 0.4)

[node name="SlotPile1" type="Control" parent="." unique_id=1900328320]
layout_mode = 1
anchors_preset = 0
offset_left = 585.0
offset_top = 185.0
offset_right = 695.0
offset_bottom = 344.0
script = ExtResource("pile_script")
allow_card_movement = false
sensor_size = Vector2(130, 180)
sensor_position = Vector2(-10, -10)

[node name="ReadingLabel1" type="RichTextLabel" parent="." unique_id=1090286175]
layout_mode = 1
offset_left = 515.0
offset_top = 355.0
offset_right = 765.0
offset_bottom = 465.0
theme_override_colors/default_color = Color(0.8, 0.75, 0.9, 1)
theme_override_font_sizes/normal_font_size = 13
bbcode_enabled = true
scroll_active = false

[node name="SlotLabel2" type="Label" parent="." unique_id=1866696313]
layout_mode = 1
offset_left = 860.0
offset_top = 150.0
offset_right = 1060.0
offset_bottom = 178.0
theme_override_colors/font_color = Color(0.6, 0.5, 0.7, 1)
theme_override_font_sizes/font_size = 15
horizontal_alignment = 1
autowrap_mode = 2

[node name="SlotBg2" type="ColorRect" parent="." unique_id=943650713]
layout_mode = 1
offset_left = 905.0
offset_top = 185.0
offset_right = 1015.0
offset_bottom = 344.0
color = Color(0.15, 0.1, 0.25, 0.4)

[node name="SlotPile2" type="Control" parent="." unique_id=1281099880]
layout_mode = 1
anchors_preset = 0
offset_left = 905.0
offset_top = 185.0
offset_right = 1015.0
offset_bottom = 344.0
script = ExtResource("pile_script")
allow_card_movement = false
sensor_size = Vector2(130, 180)
sensor_position = Vector2(-10, -10)

[node name="ReadingLabel2" type="RichTextLabel" parent="." unique_id=2076809640]
layout_mode = 1
offset_left = 835.0
offset_top = 355.0
offset_right = 1085.0
offset_bottom = 465.0
theme_override_colors/default_color = Color(0.8, 0.75, 0.9, 1)
theme_override_font_sizes/normal_font_size = 13
bbcode_enabled = true
scroll_active = false

[node name="PlayerHand" type="Control" parent="." unique_id=1473684652]
layout_mode = 1
anchors_preset = 0
offset_left = 640.0
offset_top = 570.0
offset_right = 640.0
offset_bottom = 570.0
script = ExtResource("hand_script")
max_hand_size = 3
max_hand_spread = 400
hand_rotation_curve = SubResource("hand_rotation")
hand_vertical_curve = SubResource("hand_vertical")

[node name="ClaudeAPI" type="Node" parent="." unique_id=246642762]
script = ExtResource("claude_api_script")

[node name="ClientCounter" type="Label" parent="." unique_id=287806347]
layout_mode = 1
offset_left = 1100.0
offset_top = 10.0
offset_right = 1270.0
offset_bottom = 38.0
theme_override_colors/font_color = Color(0.5, 0.45, 0.6, 1)
theme_override_font_sizes/font_size = 16
horizontal_alignment = 2

[node name="ResolutionPanel" type="Control" parent="." unique_id=1739936188]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Overlay" type="ColorRect" parent="ResolutionPanel" unique_id=1292495205]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.8)

[node name="StoryBox" type="VBoxContainer" parent="ResolutionPanel" unique_id=950045178]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -280.0
offset_top = -200.0
offset_right = 280.0
offset_bottom = 200.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 16
alignment = 1

[node name="ResolutionTitle" type="Label" parent="ResolutionPanel/StoryBox" unique_id=1568218896]
layout_mode = 2
theme_override_colors/font_color = Color(0.85, 0.7, 0.4, 1)
theme_override_font_sizes/font_size = 24
horizontal_alignment = 1

[node name="ResolutionText" type="RichTextLabel" parent="ResolutionPanel/StoryBox" unique_id=942144732]
layout_mode = 2
size_flags_vertical = 3
theme_override_colors/default_color = Color(0.8, 0.75, 0.9, 1)
theme_override_font_sizes/normal_font_size = 15
bbcode_enabled = true
scroll_active = true

[node name="NextButton" type="Button" parent="ResolutionPanel/StoryBox" unique_id=1495711370]
layout_mode = 2
text = "Next Client"
